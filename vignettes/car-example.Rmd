---
title: "AHP Car Example"
author: "Christoph Glur"
date: '`r Sys.Date()`'
output: 
  html_document:
    theme: united
    toc: yes
    toc_depth: 3
---


<!--
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteIndexEntry{AHP Car Example Walk-through}
-->

```{r set-options, echo=FALSE, cache=FALSE}
options(width=120)
#opts_chunk$set(comment = "", warning = FALSE, message = FALSE, echo = TRUE, tidy = FALSE, size="small")
#read_chunk("some/script/I/want/to/load.R")
```


## Introduction

### What is AHP?

AHP is a method allowing individuals or groups to make complex decisions. The core concept of AHP is that alternatives are always compared pairwise, and not, say, by giving a score, or sorting alternatives. AHP is used in many fields, from finance to criminal investigation.

For a general introduction to AHP, you might be interested in [this](http://en.wikipedia.org/wiki/Analytic_hierarchy_process).

Another good introduction is [here](http://bpmsg.com/ahp-introduction/)

For a more formal introduction to the subject, see: Saaty, T. L. (2001). Decision Making for Leaders: The Analytic Hierarchy Process for Decisions in a Complex World, New Edition 2001 (3 Revised). Pittsburgh, PA: RWS Publications.

### About this Package

This package is built on top of the data.tree package, and uses `R6` reference classes. To learn more about these, you might be interested in the Introduction:

```{r, eval = FALSE}
library(R6)
vignette('Introduction', package = 'R6')
```


Even though this is not required, the data.tree Introduction vignette might also be helpful:

```{r, eval = FALSE}
library(data.tree)
vignette(package = 'data.tree')
```

### What is in this Document?

This vignette follows a well-known AHP example that you can also find e.g. on [Wikipedia](http://en.wikipedia.org/wiki/Analytic_hierarchy_process_%E2%80%94_Car_example). In this example, the Jones family wants to buy a new car and uses AHP to decide systematically which car they should buy. Even though a few details are different from the original article, it is recommended to consider this vignette as an extension of that article, and not as a self sufficient document.


## Creating the AHP criteria tree

When deciding which car to buy, the family considers the following criteria: cost, safety, style, and capacity. Additionally, some of the criteria have sub-criteria. 

The Jones' have a shortlist of 6 cars.

We can draw the hierarchy like this:

![Ahp Tree](AHP_tree.png)

Using the ahp package, the ahp hierarchy tree can be defined in an ahp file, which is a yaml file with a few specific properties.

TODO: continue

## Running the analysis

```{r}
library(ahp)
tr <- LoadFile("../inst/extdata/car.ahp")
Calculate(tr)
df <- Analyse(tr)
ShowTable(df)

```


